<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: G Pages: 1 -->
<svg width="2165pt" height="490pt"
 viewBox="0.00 0.00 2165.28 489.51" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 485.51)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-485.51 2161.28,-485.51 2161.28,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_p1</title>
<path fill="#f8fafc" stroke="#94a3b8" d="M169.5,-286C169.5,-286 1453.75,-286 1453.75,-286 1459.75,-286 1465.75,-292 1465.75,-298 1465.75,-298 1465.75,-369 1465.75,-369 1465.75,-375 1459.75,-381 1453.75,-381 1453.75,-381 169.5,-381 169.5,-381 163.5,-381 157.5,-375 157.5,-369 157.5,-369 157.5,-298 157.5,-298 157.5,-292 163.5,-286 169.5,-286"/>
<text text-anchor="start" x="738.5" y="-358" font-family="Helvetica,sans-Serif" font-size="20.00">1. File Discovery</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_p2</title>
<path fill="#f8fafc" stroke="#94a3b8" d="M1583.26,-297C1583.26,-297 2108.03,-297 2108.03,-297 2114.03,-297 2120.03,-303 2120.03,-309 2120.03,-309 2120.03,-420 2120.03,-420 2120.03,-426 2114.03,-432 2108.03,-432 2108.03,-432 1583.26,-432 1583.26,-432 1577.26,-432 1571.26,-426 1571.26,-420 1571.26,-420 1571.26,-309 1571.26,-309 1571.26,-303 1577.26,-297 1583.26,-297"/>
<text text-anchor="start" x="1727.52" y="-409" font-family="Helvetica,sans-Serif" font-size="20.00">2. Parallel Chunk Retrieval</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_p3</title>
<path fill="#f8fafc" stroke="#94a3b8" d="M1906.53,-8C1906.53,-8 2137.28,-8 2137.28,-8 2143.28,-8 2149.28,-14 2149.28,-20 2149.28,-20 2149.28,-77 2149.28,-77 2149.28,-83 2143.28,-89 2137.28,-89 2137.28,-89 1906.53,-89 1906.53,-89 1900.53,-89 1894.53,-83 1894.53,-77 1894.53,-77 1894.53,-20 1894.53,-20 1894.53,-14 1900.53,-8 1906.53,-8"/>
<text text-anchor="start" x="1904.53" y="-66" font-family="Helvetica,sans-Serif" font-size="20.00">3. Information Aggregation</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_p4</title>
<path fill="#fffbeb" stroke="#f59e0b" d="M1531.51,-113C1531.51,-113 1789.26,-113 1789.26,-113 1795.26,-113 1801.26,-119 1801.26,-125 1801.26,-125 1801.26,-236 1801.26,-236 1801.26,-242 1795.26,-248 1789.26,-248 1789.26,-248 1531.51,-248 1531.51,-248 1525.51,-248 1519.51,-242 1519.51,-236 1519.51,-236 1519.51,-125 1519.51,-125 1519.51,-119 1525.51,-113 1531.51,-113"/>
<text text-anchor="start" x="1605.26" y="-225" font-family="Helvetica,sans-Serif" font-size="20.00">4. Reflection</text>
</g>
<!-- Q -->
<g id="node1" class="node">
<title>Q</title>
<path fill="#dbeafe" stroke="#2563eb" d="M116.5,-337C116.5,-337 12,-337 12,-337 6,-337 0,-331 0,-325 0,-325 0,-313 0,-313 0,-307 6,-301 12,-301 12,-301 116.5,-301 116.5,-301 122.5,-301 128.5,-307 128.5,-313 128.5,-313 128.5,-325 128.5,-325 128.5,-331 122.5,-337 116.5,-337"/>
<text text-anchor="middle" x="64.25" y="-309.35" font-family="Helvetica,sans-Serif" font-size="22.00" fill="#0f172a">User Query</text>
</g>
<!-- INT -->
<g id="node2" class="node">
<title>INT</title>
<path fill="#fff6d5" stroke="#a16207" d="M387,-344C387,-344 177.5,-344 177.5,-344 171.5,-344 165.5,-338 165.5,-332 165.5,-332 165.5,-306 165.5,-306 165.5,-300 171.5,-294 177.5,-294 177.5,-294 387,-294 387,-294 393,-294 399,-300 399,-306 399,-306 399,-332 399,-332 399,-338 393,-344 387,-344"/>
<text text-anchor="middle" x="282.25" y="-321" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#3f2d1c">Query Intent Detector</text>
<text text-anchor="middle" x="282.25" y="-300" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#3f2d1c">(extract entities, domain)</text>
</g>
<!-- Q&#45;&gt;INT -->
<g id="edge7" class="edge">
<title>Q&#45;&gt;INT</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M128.89,-319C137.39,-319 146.33,-319 155.45,-319"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="155.28,-321.8 163.28,-319 155.28,-316.2 155.28,-321.8"/>
</g>
<!-- QR -->
<g id="node3" class="node">
<title>QR</title>
<path fill="#f3e8ff" stroke="#7c3aed" d="M713.75,-344C713.75,-344 448,-344 448,-344 442,-344 436,-338 436,-332 436,-332 436,-306 436,-306 436,-300 442,-294 448,-294 448,-294 713.75,-294 713.75,-294 719.75,-294 725.75,-300 725.75,-306 725.75,-306 725.75,-332 725.75,-332 725.75,-338 719.75,-344 713.75,-344"/>
<text text-anchor="middle" x="580.88" y="-321" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#2e1065">LLM Query Rewriting</text>
<text text-anchor="middle" x="580.88" y="-300" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#2e1065">(preserve entities, domain hint)</text>
</g>
<!-- INT&#45;&gt;QR -->
<g id="edge1" class="edge">
<title>INT&#45;&gt;QR</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M399.21,-319C407.94,-319 416.84,-319 425.76,-319"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="425.72,-321.8 433.72,-319 425.72,-316.2 425.72,-321.8"/>
</g>
<!-- KR -->
<g id="node4" class="node">
<title>KR</title>
<path fill="#e6f4ff" stroke="#2563eb" d="M928.75,-344C928.75,-344 774.75,-344 774.75,-344 768.75,-344 762.75,-338 762.75,-332 762.75,-332 762.75,-306 762.75,-306 762.75,-300 768.75,-294 774.75,-294 774.75,-294 928.75,-294 928.75,-294 934.75,-294 940.75,-300 940.75,-306 940.75,-306 940.75,-332 940.75,-332 940.75,-338 934.75,-344 928.75,-344"/>
<text text-anchor="middle" x="851.75" y="-321" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">Keyword Retrieval</text>
<text text-anchor="middle" x="851.75" y="-300" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">(larger files)</text>
</g>
<!-- QR&#45;&gt;KR -->
<g id="edge2" class="edge">
<title>QR&#45;&gt;KR</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M726.15,-319C735.02,-319 743.82,-319 752.42,-319"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="752.28,-321.8 760.28,-319 752.28,-316.2 752.28,-321.8"/>
</g>
<!-- SR -->
<g id="node5" class="node">
<title>SR</title>
<path fill="#e6f4ff" stroke="#2563eb" d="M1149,-344C1149,-344 989.75,-344 989.75,-344 983.75,-344 977.75,-338 977.75,-332 977.75,-332 977.75,-306 977.75,-306 977.75,-300 983.75,-294 989.75,-294 989.75,-294 1149,-294 1149,-294 1155,-294 1161,-300 1161,-306 1161,-306 1161,-332 1161,-332 1161,-338 1155,-344 1149,-344"/>
<text text-anchor="middle" x="1069.38" y="-321" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">Semantic Retrieval</text>
<text text-anchor="middle" x="1069.38" y="-300" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">(smaller files)</text>
</g>
<!-- KR&#45;&gt;SR -->
<g id="edge3" class="edge">
<title>KR&#45;&gt;SR</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M941.08,-319C949.78,-319 958.66,-319 967.47,-319"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="967.27,-321.8 975.27,-319 967.27,-316.2 967.27,-321.8"/>
</g>
<!-- RR -->
<g id="node6" class="node">
<title>RR</title>
<path fill="#e0f2fe" stroke="#0ea5e9" d="M1445.75,-341C1445.75,-341 1210,-341 1210,-341 1204,-341 1198,-335 1198,-329 1198,-329 1198,-317 1198,-317 1198,-311 1204,-305 1210,-305 1210,-305 1445.75,-305 1445.75,-305 1451.75,-305 1457.75,-311 1457.75,-317 1457.75,-317 1457.75,-329 1457.75,-329 1457.75,-335 1451.75,-341 1445.75,-341"/>
<text text-anchor="middle" x="1327.88" y="-314.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0c4a6e">Reranking by original query</text>
</g>
<!-- SR&#45;&gt;RR -->
<g id="edge4" class="edge">
<title>SR&#45;&gt;RR</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1161.17,-320.42C1169.75,-320.55 1178.59,-320.69 1187.49,-320.83"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1187.4,-323.63 1195.45,-320.95 1187.49,-318.03 1187.4,-323.63"/>
</g>
<!-- NA -->
<g id="node7" class="node">
<title>NA</title>
<path fill="#e6f4ff" stroke="#2563eb" d="M1716.76,-395C1716.76,-395 1604.01,-395 1604.01,-395 1598.01,-395 1592.01,-389 1592.01,-383 1592.01,-383 1592.01,-371 1592.01,-371 1592.01,-365 1598.01,-359 1604.01,-359 1604.01,-359 1716.76,-359 1716.76,-359 1722.76,-359 1728.76,-365 1728.76,-371 1728.76,-371 1728.76,-383 1728.76,-383 1728.76,-389 1722.76,-395 1716.76,-395"/>
<text text-anchor="middle" x="1660.39" y="-368.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">Direct Search</text>
</g>
<!-- RR&#45;&gt;NA -->
<g id="edge8" class="edge">
<title>RR&#45;&gt;NA</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1441.7,-341.43C1487.92,-348.99 1540.25,-357.54 1582.02,-364.36"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1581.41,-367.1 1589.76,-365.62 1582.32,-361.57 1581.41,-367.1"/>
</g>
<!-- AD -->
<g id="node8" class="node">
<title>AD</title>
<path fill="#fff6d5" stroke="#a16207" d="M1729.51,-341C1729.51,-341 1591.26,-341 1591.26,-341 1585.26,-341 1579.26,-335 1579.26,-329 1579.26,-329 1579.26,-317 1579.26,-317 1579.26,-311 1585.26,-305 1591.26,-305 1591.26,-305 1729.51,-305 1729.51,-305 1735.51,-305 1741.51,-311 1741.51,-317 1741.51,-317 1741.51,-329 1741.51,-329 1741.51,-335 1735.51,-341 1729.51,-341"/>
<text text-anchor="middle" x="1660.39" y="-314.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#3f2d1c">Query Expander</text>
</g>
<!-- RR&#45;&gt;AD -->
<g id="edge9" class="edge">
<title>RR&#45;&gt;AD</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1458.08,-323C1495.16,-323 1534.78,-323 1568.98,-323"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1568.82,-325.8 1576.82,-323 1568.82,-320.2 1568.82,-325.8"/>
</g>
<!-- R1 -->
<g id="node11" class="node">
<title>R1</title>
<path fill="#fef3c7" stroke="#ca8a04" d="M1781.26,-157C1781.26,-157 1539.51,-157 1539.51,-157 1533.51,-157 1527.51,-151 1527.51,-145 1527.51,-145 1527.51,-133 1527.51,-133 1527.51,-127 1533.51,-121 1539.51,-121 1539.51,-121 1781.26,-121 1781.26,-121 1787.26,-121 1793.26,-127 1793.26,-133 1793.26,-133 1793.26,-145 1793.26,-145 1793.26,-151 1787.26,-157 1781.26,-157"/>
<text text-anchor="middle" x="1660.39" y="-130.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#4a2c0a">Search Coverage Reflection</text>
</g>
<!-- RR&#45;&gt;R1 -->
<g id="edge10" class="edge">
<title>RR&#45;&gt;R1</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1364.19,-304.52C1397.35,-285.54 1446.31,-253.16 1476.75,-213 1490.26,-195.17 1477.41,-180.13 1494.75,-166 1501.84,-160.22 1509.69,-155.46 1517.99,-151.55"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1518.97,-154.18 1525.23,-148.46 1516.77,-149.02 1518.97,-154.18"/>
</g>
<!-- OUT -->
<g id="node14" class="node">
<title>OUT</title>
<ellipse fill="#dcfce7" stroke="#16a34a" cx="1660.39" cy="-461" rx="165.64" ry="20.51"/>
<text text-anchor="middle" x="1660.39" y="-452.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#052e16">Ranked files: (file, score)</text>
</g>
<!-- RR&#45;&gt;OUT -->
<g id="edge16" class="edge">
<title>RR&#45;&gt;OUT</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1349.11,-341.33C1378.73,-367.03 1436.7,-413.19 1494.75,-436 1503.73,-439.53 1513.17,-442.56 1522.79,-445.17"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1521.97,-447.85 1530.41,-447.11 1523.35,-442.42 1521.97,-447.85"/>
</g>
<!-- CAND -->
<g id="node9" class="node">
<title>CAND</title>
<path fill="#f3e8ff" stroke="#7c3aed" d="M2100.03,-343C2100.03,-343 1943.78,-343 1943.78,-343 1937.78,-343 1931.78,-337 1931.78,-331 1931.78,-331 1931.78,-319 1931.78,-319 1931.78,-313 1937.78,-307 1943.78,-307 1943.78,-307 2100.03,-307 2100.03,-307 2106.03,-307 2112.03,-313 2112.03,-319 2112.03,-319 2112.03,-331 2112.03,-331 2112.03,-337 2106.03,-343 2100.03,-343"/>
<text text-anchor="middle" x="2021.9" y="-316.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#2e1065">Candidate Chunks</text>
</g>
<!-- NA&#45;&gt;CAND -->
<g id="edge5" class="edge">
<title>NA&#45;&gt;CAND</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1729.01,-367.22C1783.36,-359.36 1860.48,-348.2 1921.81,-339.33"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1921.89,-342.15 1929.41,-338.23 1921.09,-336.61 1921.89,-342.15"/>
</g>
<!-- AD&#45;&gt;CAND -->
<g id="edge6" class="edge">
<title>AD&#45;&gt;CAND</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1741.62,-323.45C1794.73,-323.74 1864.75,-324.13 1921.39,-324.45"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1921.31,-327.25 1929.32,-324.49 1921.34,-321.65 1921.31,-327.25"/>
</g>
<!-- AGG -->
<g id="node10" class="node">
<title>AGG</title>
<path fill="#e0f2fe" stroke="#0ea5e9" d="M2129.28,-52C2129.28,-52 1914.53,-52 1914.53,-52 1908.53,-52 1902.53,-46 1902.53,-40 1902.53,-40 1902.53,-28 1902.53,-28 1902.53,-22 1908.53,-16 1914.53,-16 1914.53,-16 2129.28,-16 2129.28,-16 2135.28,-16 2141.28,-22 2141.28,-28 2141.28,-28 2141.28,-40 2141.28,-40 2141.28,-46 2135.28,-52 2129.28,-52"/>
<text text-anchor="middle" x="2021.9" y="-25.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0c4a6e">Aggregate and Compose</text>
</g>
<!-- CAND&#45;&gt;AGG -->
<g id="edge12" class="edge">
<title>CAND&#45;&gt;AGG</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1931.59,-326.07C1904.36,-321.49 1877.22,-310.97 1860.28,-289 1834.22,-255.21 1836.2,-132.22 1860.28,-97 1872.86,-78.59 1891.69,-65.56 1912.09,-56.34"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1913,-58.99 1919.28,-53.31 1910.82,-53.83 1913,-58.99"/>
</g>
<!-- R2 -->
<g id="node12" class="node">
<title>R2</title>
<path fill="#fef3c7" stroke="#ca8a04" d="M1770.39,-211C1770.39,-211 1550.39,-211 1550.39,-211 1544.39,-211 1538.39,-205 1538.39,-199 1538.39,-199 1538.39,-187 1538.39,-187 1538.39,-181 1544.39,-175 1550.39,-175 1550.39,-175 1770.39,-175 1770.39,-175 1776.39,-175 1782.39,-181 1782.39,-187 1782.39,-187 1782.39,-199 1782.39,-199 1782.39,-205 1776.39,-211 1770.39,-211"/>
<text text-anchor="middle" x="1660.39" y="-184.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#4a2c0a">Answer Quality Reflection</text>
</g>
<!-- AGG&#45;&gt;R2 -->
<g id="edge13" class="edge">
<title>AGG&#45;&gt;R2</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1963,-52.49C1940.43,-61.24 1915.11,-73.09 1894.53,-88 1857.17,-115.07 1866.38,-143.62 1826.03,-166 1815.54,-171.82 1804.13,-176.46 1792.37,-180.16"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1791.82,-177.4 1784.92,-182.33 1793.38,-182.78 1791.82,-177.4"/>
</g>
<!-- R1&#45;&gt;QR -->
<g id="edge11" class="edge">
<title>R1&#45;&gt;QR</title>
<path fill="none" stroke="#f59e0b" stroke-width="1.4" stroke-dasharray="5,2" d="M1543.72,-157.46C1527.26,-160.24 1510.57,-163.13 1494.75,-166 1420.79,-179.42 1404.04,-199 1328.88,-199 850.75,-199 850.75,-199 850.75,-199 763.59,-199 673.26,-252.23 622.64,-287.79"/>
<polygon fill="#f59e0b" stroke="#f59e0b" stroke-width="1.4" points="621.18,-285.39 616.29,-292.32 624.43,-289.95 621.18,-285.39"/>
<text text-anchor="middle" x="1069.38" y="-200.3" font-family="Helvetica,sans-Serif" font-size="16.00" fill="#92400e">expand or relax</text>
</g>
<!-- R2&#45;&gt;AGG -->
<g id="edge14" class="edge">
<title>R2&#45;&gt;AGG</title>
<path fill="none" stroke="#f59e0b" stroke-width="1.4" stroke-dasharray="5,2" d="M1782.78,-190.44C1798.86,-185.41 1813.93,-177.65 1826.03,-166 1854.95,-138.16 1816.23,-106.45 1844.03,-77.5 1857.43,-63.55 1874.52,-53.78 1892.78,-46.99"/>
<polygon fill="#f59e0b" stroke="#f59e0b" stroke-width="1.4" points="1893.45,-49.72 1900.11,-44.49 1891.64,-44.42 1893.45,-49.72"/>
<text text-anchor="middle" x="1864.28" y="-78.8" font-family="Helvetica,sans-Serif" font-size="16.00" fill="#92400e">refine</text>
</g>
<!-- A -->
<g id="node13" class="node">
<title>A</title>
<ellipse fill="#dbeafe" stroke="#2563eb" cx="2021.9" cy="-193" rx="92.45" ry="92.45"/>
<ellipse fill="none" stroke="#2563eb" cx="2021.9" cy="-193" rx="96.45" ry="96.45"/>
<text text-anchor="middle" x="2021.9" y="-184.5" font-family="Helvetica,sans-Serif" font-size="20.00" fill="#0f172a">Final Answer</text>
</g>
<!-- R2&#45;&gt;A -->
<g id="edge15" class="edge">
<title>R2&#45;&gt;A</title>
<path fill="none" stroke="#6b7280" stroke-width="1.4" d="M1782.85,-193C1825.68,-193 1873.46,-193 1914.91,-193"/>
<polygon fill="#6b7280" stroke="#6b7280" stroke-width="1.4" points="1914.91,-195.8 1922.91,-193 1914.91,-190.2 1914.91,-195.8"/>
<text text-anchor="middle" x="1864.28" y="-194.3" font-family="Helvetica,sans-Serif" font-size="16.00">pass</text>
</g>
</g>
</svg>
